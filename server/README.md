# Anonymous Blocking Server
## REST API
### Authorisation
The REST API is authorised using a [JSON Web Token](https://jwt.io/), which is signed by the mobile client using a secret key known only to the mobile client and server.

The token contains an anonymous unique identifier for the user generated by the mobile client. The server verifies each token that it receives has been signed with the known secret key, and rejects any requests that fail this verification step.  
#### Request
To make an authorised request to the server, include the following header:

| HEADER | TYPE | REQUIRED | EXAMPLE |
|---|---|---|---|
| Authorization | string | true | 'Bearer <JWT_TOKEN>' |

The JWT Token should contain the following payload:
```JSON
{
  "id": "ANONYMOUS_UNIQUE_ID"
}
```
### Sessions
#### Start Session
The following request will start a session for the authorised user. If an `endDate` parameter is sent the session will run until that time, else the session will run until stopped.

Starting a new session whilst an existing session is running will stop the running session before starting the new session.
```
POST /session
```
| QUERY PARAMETER | TYPE | REQUIRED | EXAMPLE |
|---|---|---|---|
| endDate | ISO string | false | '2021-02-27T09:00:00.000+00:00' |
| services | Array of service strings | true | ['facebook', 'reddit'] |
